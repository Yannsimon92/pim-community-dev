<% if (!associationTypes.length) { %>
    <div class="buffer-top buffer-left">
        <span class="buffer-small-right">
            <%= _.__('pim_enrich.form.product.tab.associations.info.none_exist') %>
        </span>
    </div>
<% } else { %>
    <div class="tabbable tabs-left">
        <ul class="nav nav-tabs" id="associations-list">
            <% _.each(associationTypes, function (associationType) { %>
                <li data-association-type="<%= associationType.code %>"<% if (associationType.code === state.currentAssociationType) { %> class="active"<% } %>>
                    <a href="javascript:void(0);">
                        <%= associationType.label[locale] || '[' + associationType.code + ']'  %>
                    </a>
                </li>
            <% }); %>
        </ul>
        <div class="tab-content">
            <div id="association-buttons" class="navbar-extra pull-right">
                <button type="button" class="btn pull-right hide" data-association-target="products">
                    <i class="icon-random"></i>
                    <%= _.__('pim_enrich.form.product.tab.associations.info.show_products') %>
                </button>
                <button type="button" class="btn pull-right" data-association-target="groups">
                    <i class="icon-random"></i>
                    <%= _.__('pim_enrich.form.product.tab.associations.info.show_groups') %>
                </button>
            </div>
            <% _.each(associationTypes, function (associationType) { %>
                 <div data-association-type="<%= associationType.code %>" class="tab-pane<% if (associationType.code === state.currentAssociationType) { %> active<% } %>">
                    <h3 class="unspaced">
                        <%= associationType.label[locale] || '[' + associationType.code + ']'  %>
                        <span class="muted small">
                            <%= _.__(
                                'pim_enrich.form.product.tab.associations.info.number_of_associations',
                                { productCount: associationType.productCount, groupCount: associationType.groupCount }
                            ) %>
                        </span>
                    </h3>
                </div>
            <% }); %>

            <div id="association-product-grid">
                <div id="grid-association-product-grid" data-type="datagrid"></div>
            </div>

            <div id="association-group-grid" class="hide">
                <div id="grid-association-group-grid" data-type="datagrid"></div>
            </div>

            <div class="selection-inputs">
                <% _.each(associationTypes, function (associationType) { %>
                    <input type="hidden" id="<%= associationType.code %>-products-appendfield"/>
                    <input type="hidden" id="<%= associationType.code %>-products-removefield"/>
                    <input type="hidden" id="<%= associationType.code %>-groups-appendfield"/>
                    <input type="hidden" id="<%= associationType.code %>-groups-removefield"/>
                <% }); %>
            </div>
        </div>
    </div>
<% } %>
